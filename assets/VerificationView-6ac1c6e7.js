import{_ as b}from"./bug-e6e67846.js";import{d as g,i as k,b as y,u as w,e as F,r as i,f as C,g as f,o,c as l,a as e,h as B,t as v}from"./index-8b4b7f3d.js";import{g as E,a as V}from"./actions-830a8f09.js";/* empty css                    */const j={class:""},N={class:"box relative p-5 md:w-[400px] w-[90%] bg-[#2a9d8f90]"},R={key:0,class:"flex absolute bg-[#207b70] loader-wrapper left-[50%] translate-x-[-50%] top-[50%] translate-y-[-50%] w-full h-full items-center justify-center"},S=e("div",{class:"pulse"},null,-1),T=[S],$=e("div",{class:"flex justify-center"},[e("img",{class:"w-[100px]",src:b,alt:"logo"})],-1),I={class:"font-bold text-[1.5em] text-[#ffffff] tracking-wide text-center"},O={class:"flex justify-center mt-5 flex-col"},A={key:0,class:"text-black p-1 px-4 rounded-full text-sm"},L=e("i",{class:"text-white/40"},"Hang on, verifying your account...",-1),q=[L],D={key:1,class:"text-black p-1 px-4 rounded-full text-sm"},G={class:"text-[#f4a261] text-[11px]"},H={key:3,class:"bg-[#F0CF7B] text-black p-1 px-[50px] rounded-full text-sm"},M=e("div",{class:"container"},[e("span",{class:"spinner spinner--quarter"})],-1),P=[M],Q=g({__name:"VerificationView",setup(U){const _=k("$swal"),p=y.useToast();w();const x=F(),r=i(""),t=i(!0),c=i(!1),n=i(""),u=i(!1);C(()=>{f.get("services/verify/"+x.params.token).then(s=>{t.value=!1,s.data.status==200?p.success("Your email has been verified."):(c.value=!0,r.value=s.data.message,s.data.data.email?n.value=s.data.data.email:u.value=!0)}).catch(s=>{s&&(t.value=!1,c.value=!0,r.value="Sever Error")})});const m=()=>{t.value=!0;const s={email:n.value};f.post("services/verify",s).then(a=>{t.value=!1,a.data.status==200&&_.fire({text:"A verfication link has been sent to your email",color:"#ffffff",background:"#030F18",confirmButtonColor:"#F0CF7B"}).then(d=>(n.value="",E("https://app.jollofradio.com")))}).catch(a=>{a&&(t.value=!1,c.value=!0,r.value="Sever Error")})},h=()=>{V("https://app.jollofradio.com")};return(s,a)=>(o(),l("div",j,[e("div",N,[t.value?(o(),l("div",R,T)):B("",!0),$,e("h2",I," Account Verification"+v(c.value?" Failed":" Successful")+". ",1),e("div",O,[n.value==""&&t.value?(o(),l("button",A,q)):u.value?(o(),l("button",D,[e("i",G,v(r.value),1)])):n.value&&!t.value?(o(),l("button",{key:2,onClick:a[0]||(a[0]=d=>m()),class:"bg-[#F0CF7B] text-black p-1 px-4 rounded-full text-sm"}," Resend link ")):n.value&&t.value?(o(),l("button",H,P)):(o(),l("button",{key:4,onClick:a[1]||(a[1]=d=>h()),class:"bg-[#F0CF7B] text-black p-1 px-4 rounded-full text-sm"}," SIGN IN TO CONTINUE "))])])]))}});export{Q as default};
