import{S as $}from"./KArrowLeft-2c07770a.js";import{S as N}from"./KShareIcon-7be749db.js";import{d as F,b as H,u as O,e as B,r as n,f as J,g as P,G as j,m as A,o,c as l,a as e,l as a,n as m,z as _,t as E,x as D,h as y,F as V,D as K,E as R}from"./index-8b4b7f3d.js";/* empty css                    */import{_ as q}from"./EmptyPage.vue_vue_type_script_setup_true_lang-517d5f13.js";import{u as z}from"./audioplayer-fe638ff8.js";import{S as W}from"./ShareModel-d4c80aa8.js";import{j as G}from"./jollofEmpty-1e702da2.js";const Q=b=>(b.forEach(v=>{let r=new Audio(v.source);r.addEventListener("loadedmetadata",()=>{const u=Math.floor(r.duration/3600),x=Math.floor((r.duration-u*3600)/60),f=Math.floor(r.duration-u*3600-x*60);v.duration=u?u.toString().padStart(2,"0")+":"+x.toString().padStart(2,"0")+":"+f.toString().padStart(2,"0"):x.toString().padStart(2,"0")+":"+f.toString().padStart(2,"0")})}),b),U={class:"bg-blue-deep-100 px-3 pt-[100px] rounded-t-[10px] space-y-6 pb-20 w-full text-white"},X={class:"container mx-auto space-x-2"},Y=e("span",null,"Back",-1),Z={key:0,class:"container flex-col mx-auto flex divide-y divide-grey-900"},ee={class:"flex md:flex-row flex-col mb-[32px]"},te={class:"p-2 overflow-hidden md:block flex items-center justify-center"},se=["src"],oe={class:"text-md flex-1 md:ml-[44px] md:mt-0 mt-[25px]"},ae=e("span",{class:"text-white text-[20px] pt-[4px] block mb-[10px]"}," About ",-1),ie=["innerHTML"],le={key:1,class:"flex flex-col space-y-3"},ne=["innerHTML"],re={key:4,class:"flex flex-col mt-[9px]"},ce={class:"text-[#9A9FA3] text-[13px]"},pe={class:"text-[10px] text-yellow mt-[6px]"},de={class:"text-[]"},ue={key:5,class:"flex items-center space-x-4"},xe={key:0,class:"py-7.5"},me=e("div",{class:"w-full space-between mb-[20px]"},[e("h3",{class:"float-left text-[25px] font-medium text-grey py-10"},"All Episodes"),e("div",{class:"clearfix"})],-1),fe={key:0,class:"py-4.5 space-y-4.5"},ge={class:"flex items-center pl-[5px]"},he=["onClick"],_e=["src"],ye={class:"grow flex items-center justify-between"},ve=["onClick"],ke={class:"flex space-x-8 items-center"},we=["innerHTML"],Se=["innerHTML"],be={key:1},Te=e("p",{class:"text-center text-white italic text-[15px] mt-[80px]"}," There is currently no episode for this podcast. ",-1),Ie=[Te],Ce={key:1},He=F({__name:"PodcastView",setup(b){H.useToast();const v=O(),r=B(),u=n(""),x=n(!1),f=n(0);n(!1),n(""),n();const c=n(!0),p=z(),T=n(!1),C=n("");let s=n({id:0,logo:"",title:"loading..",slug:"",description:"",liked:!1,subscribers:0,episodes:[{id:0,logo:"",title:"",source:"",description:"",duration:""}]});J(async()=>{if(console.log(r),await P.get(`services/podcast/${r.params.name}/`).then(i=>{i.data.approved&&(s.value=i.data,s.value.episodes=Q(s.value.episodes),u.value=s.value.title,localStorage.setItem("podcast_name",JSON.stringify(u.value))),c.value=!1}).catch(i=>{i&&(c.value=!1)}),r.query.episode){await j();const i=s.value.episodes.findIndex(t=>t.slug===r.query.episode);w(i,"episode","",!0)}else await j()});function k(i,t){return i&&i&&i.length>t?i.substring(0,t)+"...":i}setInterval(()=>{localStorage.getItem("isPlaying")&&JSON.parse(localStorage.getItem("isPlaying")??"")==!0?localStorage.getItem("podcast_name")&&JSON.parse(localStorage.getItem("podcast_name")??"")===s.value.title&&localStorage.getItem("playingId")&&(f.value=JSON.parse(localStorage.getItem("playingId")??"")??0,x.value=JSON.parse(localStorage.getItem("isPlaying")??"")):(x.value=!1,f.value=0)},1e3);const M=i=>{let t={url:""};window.innerWidth>768&&(T.value=!0),t.url="https://share.jollofradio.com/podcast/"+i,C.value=t.url,window.innerWidth<768&&navigator.share(t)},w=(i,t,g,S=!1)=>{let h=s.value.episodes;p.audioType=t,p.currentTrackIndex=i,p.podcastName=s.value.title,JSON.stringify(p.trackList)!==JSON.stringify(h)&&(p.trackList=h),p.playPauseTrack(S)};return(i,t)=>{var h;const g=A("Skeletor"),S=A("font-awesome-icon");return o(),l("div",U,[e("div",X,[e("button",{class:"bg-[#F0CF7B40] rounded px-2.5 py-1.5",onClick:t[0]||(t[0]=d=>a(v).back())},[m(a($))]),Y]),Object.keys(a(s)).length?(o(),l("div",Z,[e("div",ee,[e("div",te,[c.value?(o(),_(g,{key:1,class:"w-[330px] origin-center h-[330px]",style:{width:"330px",height:"330px","border-radius":"0"}})):(o(),l("img",{key:0,src:a(s).logo,class:"rounded-sm w-[330px] origin-center h-[330px] block",alt:"card-image"},null,8,se))]),e("div",oe,[ae,c.value?(o(),l("p",le,[m(g,{class:"w-[330px] origin-center h-[330px]",style:{width:"330px",height:"10px"}}),m(g,{class:"w-[330px] origin-center h-[330px]",style:{width:"260px",height:"10px"}})])):(o(),l("p",{key:0,innerHTML:k(a(s).description,400),class:"text-[#9A9FA3] leading-[20px] md:w-[378px] md:text-[12px] text-[17px] mb-[20px] pr-[70px]"},null,8,ie)),c.value?(o(),_(g,{key:3,class:"w-[330px] origin-center h-[330px] mt-[40px]",style:{width:"330px",height:"20px"}})):(o(),l("p",{key:2,innerHTML:k(a(s).title,200),class:"text-white text-[17px] pt-1 mt-[12px]"},null,8,ne)),c.value?y("",!0):(o(),l("div",re,[e("span",ce,E(a(s).subscribers??0)+" Subsribers",1),e("span",pe,[e("span",de,E(a(s).episodes.length),1),D(" Episodes")])])),c.value?y("",!0):(o(),l("div",ue,[e("button",{class:"flex items-center justify-center mt-[20px]",onClick:t[1]||(t[1]=d=>M(a(s).slug))},[m(a(N))]),a(s).episodes.length?(o(),l("div",{key:0,class:"w-[60px] mt-[24px] h-[60px] rounded-full bg-[#F0CF7B] flex items-center justify-center text-[22px] text-black cursor-pointer",onClick:t[2]||(t[2]=d=>w(0,"episode"))},[!a(p).isPlaying||a(p).currentTrack.podcast!==a(s).title?(o(),_(S,{key:0,icon:["fas","play"]})):(o(),_(S,{key:1,icon:["fas","pause"]}))])):y("",!0)]))])]),c.value?y("",!0):(o(),l("div",xe,[me,(h=a(s).episodes[0])!=null&&h.title?(o(),l("div",fe,[(o(!0),l(V,null,K(a(s).episodes,(d,I)=>(o(),l("div",{key:I,class:"w-full flex items-center bg-[#12222D] py-1.5 md:pr-[30px] pr-[20px] space-x-6 rounded-md text-white cursor-pointer mt-[5px]",style:R(a(p).currentTrack.id===d.id?"opacity: 0.5;":"opacity: 1;")},[e("div",ge,[e("div",{onClick:L=>w(I,"episode")},[e("img",{src:d.logo||a(G),class:"md:min-w-[105px] md:max-w-[105px] rounded-md min-w-[75px] max-w-[75px] md:h-[105px] h-[75px]",alt:"Episode"},null,8,_e)],8,he)]),e("div",ye,[e("div",{class:"text-base space-y-1 cursor-pointer",onClick:L=>w(I,"episode")},[e("div",ke,[e("h3",{innerHTML:k(d.title,45),class:"font-medium md:text-xl sm:text-[13px] text-[12px] cursor-pointer xl:w-[400px] lg:w-[300px]"},null,8,we)]),e("p",{innerHTML:k(d.description,30),class:"font-normal text-grey md:text-[15px] sm:text-[11px] text-[11px] cursor-pointer"},null,8,Se)],8,ve),e("button",{class:"flex items-center justify-center mt-[20px]",onClick:t[3]||(t[3]=L=>M(a(s).slug))},[m(a(N))])])],4))),128))])):(o(),l("div",be,Ie))]))])):(o(),l("div",Ce,[m(q,{messgae:"No record found."})])),T.value?(o(),_(W,{key:2,route:C.value,onClose:t[4]||(t[4]=d=>T.value=!1)},null,8,["route"])):y("",!0)])}}});export{He as default};
