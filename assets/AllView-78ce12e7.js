import{S as C}from"./KArrowLeft-2c07770a.js";import{d as $}from"./behaviours-87802d59.js";import{d as z,b as N,u as B,e as L,r as l,i as T,f as V,g as A,o as c,c as u,a as e,l as g,n as h,t as O,F as j,D as M,h as y,z as E,B as F,C as J,_ as D}from"./index-8b4b7f3d.js";/* empty css                    */import{u as R}from"./audioplayer-fe638ff8.js";import{S as H}from"./ShareModel-d4c80aa8.js";import{P as K}from"./PaginationComponent-aeb62722.js";import{j as q}from"./jollofEmpty-1e702da2.js";const G=n=>(F("data-v-9da5baad"),n=n(),J(),n),Q={class:"overflow-hidden pt-[20px] pb-[150px]"},U={class:"container mx-auto md:mt-[80px] mt-[80px] bg-blue-deep-100 md:pt-[24px] rounded-t-[10px] space-y-6 pb-10 px-[15px] text-white space-y-17 satoshi"},W={class:"container mx-auto space-x-2"},X=G(()=>e("span",null,"Back",-1)),Y={class:"text-white space-y-6"},Z={class:"flex items-end justify-between py-[24px] pb-0"},ee={class:"text-2xl font-medium"},te={key:0,class:"grid xl:grid-cols-6 lg:grid-cols-6 md:grid-cols-4 grid-cols-2 gap-2"},se=["onClick"],ae={class:"relative h-[177.67px] rounded-md overflow-hidden"},oe=["src"],le={class:"text-left mt-[5px]"},ie=["innerHTML"],re=z({__name:"AllView",setup(n){N.useToast();const r=R(),k=B(),_=L(),s=l({type:"",topic:"",name:"",totalPages:0,page_size:20,page:0,resource:[{active:!1,created_at:"",creator:0,description:"",duration:"",id:0,logo:"",plays:0,podcast:"",slug:"",source:"",title:"",updated_at:"",views:0}]}),v=l(!1),b=l("");l();const w=l(!1),f=l();l();const d=l(!1),x=T("$swal");V(()=>{m(s.value.page_size)}),setInterval(()=>{localStorage.getItem("isPlaying")&&JSON.parse(localStorage.getItem("isPlaying")??"")==!0?localStorage.getItem("playingId")&&(f.value=JSON.parse(localStorage.getItem("playingId")??"")):(w.value=!1,f.value=0)},1e3);const S=(o,a,i,p=!1)=>{let t=s.value.resource;r.audioType=a,r.currentTrackIndex=o,r.podcastName=s.value.title,JSON.stringify(r.trackList)!==JSON.stringify(t)&&(r.trackList=t),r.playPauseTrack()},m=(o,a)=>{d.value=!0;const i=a&&a>1?`services/toppick-episodes/?toppick=${_.params.name}&page=${a}&page_size=${o}`:`services/toppick-episodes/?toppick=${_.params.name}&page_size=${o}`;let p=[];d.value=!0,A.get(i).then(t=>{p=t.data.results,s.value.resource=[],s.value={type:"episodes",topic:_.params.name,resource:p,totalPages:t.data.total_pages,page:t.data.current_page,page_size:t.data.page_size},d.value=!1}).catch(t=>{t.response?x.fire({icon:"error",title:"Oops...",text:t.response.data.message}):x.fire({icon:"error",title:"Oops...",text:t.message})})},I=o=>{m(s.value.page_size,o)},P=o=>{m(o,0)};return(o,a)=>(c(),u("div",Q,[e("div",null,[e("div",U,[e("div",W,[e("button",{class:"bg-[#F0CF7B40] rounded px-2.5 py-1.5",onClick:a[0]||(a[0]=i=>g(k).back())},[h(g(C))]),X]),e("div",Y,[e("div",Z,[e("h4",ee,O(s.value.topic),1)]),d.value?y("",!0):(c(),u("div",te,[(c(!0),u(j,null,M(s.value.resource,(i,p)=>(c(),u("div",{key:p,class:"flex flex-col gap-4 w-full rounded-[5px] items-left relative"},[e("div",{class:"slider-info bg-blue-deep-200 relative md:px-3 px-1 pt-2.5 pb-2 cursor-pointer",onClick:t=>S(p,"episode",s.value.resource.title)},[e("div",ae,[e("img",{src:i.logo||g(q),class:"block w-full h-[177.66px] aspect-square rounded-md",height:"177.66px",width:"177.67px",alt:"Episode"},null,8,oe)]),e("div",le,[e("span",{innerHTML:g($)(i.title,20),class:"text-left text-white block md:text-[14px] text-[11px] mb-[-5px]"},null,8,ie)])],8,se)]))),128))]))]),h(K,{currentPage:s.value.page,totalPages:s.value.totalPages,onPageChange:I,onItemsPerPageChange:P},null,8,["currentPage","totalPages"])])]),v.value?(c(),E(H,{key:0,route:b.value,onClose:a[1]||(a[1]=i=>v.value=!1)},null,8,["route"])):y("",!0)]))}});const ve=D(re,[["__scopeId","data-v-9da5baad"]]);export{ve as default};
